import{e as x,v as H,w as R}from"./chunk-EF42ZVTH.js";import{a as G}from"./chunk-3SDCY7GU.js";import{$a as p,$b as D,Ha as s,Mb as k,Na as h,Oa as a,Pa as n,Qa as d,Qb as w,Ra as C,Sa as v,U as m,W as f,Wa as y,Wb as F,Xa as g,Yb as M,Zb as O,_b as P,ac as E,bc as I,cc as A,db as S,dc as N,fc as V,hb as _,nb as T,ob as b,ya as o}from"./chunk-BYLOUW66.js";function B(t,c){t&1&&(a(0,"div"),d(1,"input",5),a(2,"label",6),p(3,"Tow hitch ?"),n(),d(4,"br"),n()),t&2&&(o(1),s("value",!0))}function L(t,c){t&1&&(a(0,"div"),d(1,"input",7),a(2,"label",8),p(3,"Yoke steering wheel ?"),n(),d(4,"br"),n()),t&2&&(o(1),s("value",!0))}function j(t,c){if(t&1&&(a(0,"div",9),p(1),T(2,"currency"),n()),t&2){let r=g();o(1),S(" Range: ",r.range," miles - Max speed: ",r.speed," - Cost: ",b(2,3,r.price),`
`)}}function q(t,c){if(t&1&&(C(0),d(1,"app-image-tesla",10),v()),t&2){let r=g();o(1),s("model",r.selectedModelForDisplayPhoto)("color",r.selectedTesla.color==null?null:r.selectedTesla.color.code)}}var oe=(()=>{let c=class c{constructor(){this.subscription=[],this.activatedRoute=m(x),this.fb=m(N),this.sharedService=m(F),this.selectedModelForDisplayPhoto="",this.range=0,this.speed=0,this.price=0,this.yokeActive=!1,this.towActive=!1,this.selectForm=this.fb.group({config:[void 0,[O.required]],tHitch:[!1],yoke:[!1]})}ngOnInit(){this.activatedRoute.data.subscribe(e=>this.config=e.configs),this.loadSelectedCar(),this.checkInputValues(),this.checkOptionsDisplayed()}checkInputValues(){let e=this.selectForm.get("tHitch"),l=this.selectForm.get("yoke");e&&l&&(this.subscription.push(e.valueChanges.subscribe(i=>{this.towActive=i,this.updateSelectedCar()})),this.subscription.push(l.valueChanges.subscribe(i=>{this.yokeActive=i,this.updateSelectedCar()})))}checkOptionsDisplayed(){this.selectedTesla?.yoke&&(this.yokeActive=!0),this.selectedTesla?.tow&&(this.towActive=!0),this.selectForm.patchValue({tHitch:this.towActive,yoke:this.yokeActive}),this.selectForm.updateValueAndValidity()}loadSelectedCar(){this.sharedService.getSelectedTesla().subscribe(e=>{this.selectedTesla=e,this.selectedModelForDisplayPhoto=e.model?.code.toLowerCase()})}onConfigChange(e){this.range=e.range,this.price=e.price,this.speed=e.speed,this.updateSelectedCar()}updateSelectedCar(){let e={model:this.selectedTesla?.model??void 0,color:this.selectedTesla?.color??void 0,config:this.selectForm.get("config")?.value,tow:this.selectForm.get("tHitch")?.value,yoke:this.selectForm.get("yoke")?.value};this.sharedService.setSelectedTesla(e)}ngOnDestroy(){this.subscription.forEach(e=>e.unsubscribe())}};c.\u0275fac=function(l){return new(l||c)},c.\u0275cmp=f({type:c,selectors:[["app-tesla-step-two"]],standalone:!0,features:[_],decls:10,vars:6,consts:[["novalidate","",3,"formGroup"],["id","configSelect","formControlName","config","placeholder","Choose a config","name","config","optionLabel","description","appendTo","body",3,"options","onChange"],[1,"checkboxes"],[4,"ngIf"],["class","config",4,"ngIf"],["type","checkbox","id","includeTow","name","includeTow","formControlName","tHitch",3,"value"],["for","includeTow"],["type","checkbox","id","includeYoke","name","includeYoke","formControlName","yoke",3,"value"],["for","includeYoke"],[1,"config"],[3,"model","color"]],template:function(l,i){if(l&1&&(a(0,"section")(1,"h1"),p(2,"Step 2: Select your config and options"),n(),a(3,"form",0)(4,"p-dropdown",1),y("onChange",function(Y){return i.onConfigChange(Y.value)}),n(),a(5,"div",2),h(6,B,5,1,"div",3),n(),h(7,L,5,1,"div",3),n(),h(8,j,3,5,"div",4)(9,q,2,2,"ng-container",3),n()),l&2){let u;o(3),s("formGroup",i.selectForm),o(1),s("options",i.config.configs),o(2),s("ngIf",i.config.towHitch),o(1),s("ngIf",i.config.yoke),o(1),s("ngIf",(u=i.selectForm.get("config"))==null?null:u.value),o(1),s("ngIf",i.selectedTesla)}},dependencies:[V,E,M,P,D,I,A,R,H,w,k,G],styles:["section[_ngcontent-%COMP%]{width:800px;padding:37px 35%}section[_ngcontent-%COMP%]   .checkboxes[_ngcontent-%COMP%]{margin-top:50px}section[_ngcontent-%COMP%]   .config[_ngcontent-%COMP%]{margin:50px 20px}section[_ngcontent-%COMP%]   #configSelect[_ngcontent-%COMP%]{width:300px!important;outline:none}section[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-top:100px}section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{background-color:transparent}"],changeDetection:0});let t=c;return t})();export{oe as a};
